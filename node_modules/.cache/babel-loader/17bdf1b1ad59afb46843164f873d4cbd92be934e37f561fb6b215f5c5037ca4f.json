{"ast":null,"code":"import { ActionTypes } from \"../constants/action-types\";\nconst initialState = {\n  numberCart: 0,\n  Carts: [],\n  productData: []\n};\nexport const cartReducer = (state = initialState, {\n  type,\n  payload\n}) => {\n  console.log(state);\n  console.log(payload);\n  switch (type) {\n    case ActionTypes.GET_NUMBER_CART:\n      return {\n        ...state\n      };\n    case ActionTypes.ADD_TO_CART:\n      // Check if the product is already in the cart\n      const existingItem = state.Carts.find(item => {\n        console.log(item._id);\n        console.log(payload._id);\n        return item._id === payload._id;\n      });\n      if (existingItem) {\n        // If the product exists, update its quantity using map\n        console.log(existingItem);\n        console.log(payload);\n        console.log(state);\n        return {\n          ...state,\n          Carts: state.Carts.map(item => item._id === payload._id ? {\n            ...item,\n            quantity: item.quantity + 1\n          } : item),\n          numberCart: state.numberCart + 1\n        };\n      } else {\n        // If the product is not in the cart, add it\n        const newItem = {\n          ...payload,\n          quantity: 1\n        };\n        console.log(newItem);\n        console.log(state);\n        console.log(payload);\n        return {\n          ...state,\n          Carts: [...state.Carts, newItem],\n          numberCart: state.numberCart + 1\n        };\n      }\n    case ActionTypes.FETCH_PRODUCT_DATA_SUCCESS:\n      console.log(state);\n      return {\n        ...state,\n        productData: payload\n      };\n    case ActionTypes.REMOVE_FROM_CART:\n      return {\n        ...state,\n        Carts: state.Carts.filter(item => item._id !== payload),\n        numberCart: state.numberCart - 1\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ActionTypes","initialState","numberCart","Carts","productData","cartReducer","state","type","payload","console","log","GET_NUMBER_CART","ADD_TO_CART","existingItem","find","item","_id","map","quantity","newItem","FETCH_PRODUCT_DATA_SUCCESS","REMOVE_FROM_CART","filter"],"sources":["/Users/vivek/Documents/GitHub/shopping-app/src/Redux/reducers/CartReducer.js"],"sourcesContent":["import { ActionTypes } from \"../constants/action-types\"\n\nconst initialState = {\n  numberCart: 0,\n  Carts: [],\n  productData: [],\n}\n\nexport const cartReducer = (state = initialState, { type, payload }) => {\n  console.log(state)\n  console.log(payload)\n\n  switch (type) {\n    case ActionTypes.GET_NUMBER_CART:\n      return {\n        ...state\n      };\n      case ActionTypes.ADD_TO_CART:\n  // Check if the product is already in the cart\n  const existingItem = state.Carts.find(item => \n    {\n      console.log(item._id)\n      console.log(payload._id)\n      return(item._id === payload._id) \n    });\n\n  if (existingItem) {\n    // If the product exists, update its quantity using map\n    console.log(existingItem);\n    console.log(payload);\n    console.log(state);\n    return {\n     \n      ...state,\n      Carts: state.Carts.map(item =>\n    \n        item._id === payload._id ? { ...item, quantity: item.quantity + 1 } : item\n      ),\n      numberCart: state.numberCart + 1,\n      \n    };\n  } else {\n    // If the product is not in the cart, add it\n    const newItem = {\n      ...payload,\n      quantity: 1,\n    };\n    console.log(newItem)\n    console.log(state)\n    console.log(payload)\n    return {\n      ...state,\n      Carts: [...state.Carts, newItem],\n      numberCart: state.numberCart + 1,\n    };\n  }\n\n    case ActionTypes.FETCH_PRODUCT_DATA_SUCCESS:\n      console.log(state);\n \n\n      return {\n        ...state,\n        productData: payload,\n      };\n     \n    case ActionTypes.REMOVE_FROM_CART:\n      return {\n        ...state,\n        Carts: state.Carts.filter((item) => item._id !== payload),\n        numberCart: state.numberCart - 1,\n      };\n    default:\n      return state;\n  }\n};\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,2BAA2B;AAEvD,MAAMC,YAAY,GAAG;EACnBC,UAAU,EAAE,CAAC;EACbC,KAAK,EAAE,EAAE;EACTC,WAAW,EAAE;AACf,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGA,CAACC,KAAK,GAAGL,YAAY,EAAE;EAAEM,IAAI;EAAEC;AAAQ,CAAC,KAAK;EACtEC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;EAClBG,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;EAEpB,QAAQD,IAAI;IACV,KAAKP,WAAW,CAACW,eAAe;MAC9B,OAAO;QACL,GAAGL;MACL,CAAC;IACD,KAAKN,WAAW,CAACY,WAAW;MAChC;MACA,MAAMC,YAAY,GAAGP,KAAK,CAACH,KAAK,CAACW,IAAI,CAACC,IAAI,IACxC;QACEN,OAAO,CAACC,GAAG,CAACK,IAAI,CAACC,GAAG,CAAC;QACrBP,OAAO,CAACC,GAAG,CAACF,OAAO,CAACQ,GAAG,CAAC;QACxB,OAAOD,IAAI,CAACC,GAAG,KAAKR,OAAO,CAACQ,GAAG;MACjC,CAAC,CAAC;MAEJ,IAAIH,YAAY,EAAE;QAChB;QACAJ,OAAO,CAACC,GAAG,CAACG,YAAY,CAAC;QACzBJ,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;QACpBC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;QAClB,OAAO;UAEL,GAAGA,KAAK;UACRH,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACc,GAAG,CAACF,IAAI,IAEzBA,IAAI,CAACC,GAAG,KAAKR,OAAO,CAACQ,GAAG,GAAG;YAAE,GAAGD,IAAI;YAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAG;UAAE,CAAC,GAAGH,IACxE,CAAC;UACDb,UAAU,EAAEI,KAAK,CAACJ,UAAU,GAAG;QAEjC,CAAC;MACH,CAAC,MAAM;QACL;QACA,MAAMiB,OAAO,GAAG;UACd,GAAGX,OAAO;UACVU,QAAQ,EAAE;QACZ,CAAC;QACDT,OAAO,CAACC,GAAG,CAACS,OAAO,CAAC;QACpBV,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;QAClBG,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;QACpB,OAAO;UACL,GAAGF,KAAK;UACRH,KAAK,EAAE,CAAC,GAAGG,KAAK,CAACH,KAAK,EAAEgB,OAAO,CAAC;UAChCjB,UAAU,EAAEI,KAAK,CAACJ,UAAU,GAAG;QACjC,CAAC;MACH;IAEE,KAAKF,WAAW,CAACoB,0BAA0B;MACzCX,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;MAGlB,OAAO;QACL,GAAGA,KAAK;QACRF,WAAW,EAAEI;MACf,CAAC;IAEH,KAAKR,WAAW,CAACqB,gBAAgB;MAC/B,OAAO;QACL,GAAGf,KAAK;QACRH,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACmB,MAAM,CAAEP,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKR,OAAO,CAAC;QACzDN,UAAU,EAAEI,KAAK,CAACJ,UAAU,GAAG;MACjC,CAAC;IACH;MACE,OAAOI,KAAK;EAChB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}